<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VeeValidate | Custom Rules</title>
    <meta name="description" content="Input validation for Vue.js">
    <meta charset="utf-8">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/img/ms-icon-144x144.png">
  <meta name="theme-color" content="#41b883">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="https://s3.eu-central-1.amazonaws.com/logaretm/vee-validate.svg">
  <link rel="apple-touch-icon" sizes="57x57" href="/vee-validate/img/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/vee-validate/img/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/vee-validate/img/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/vee-validate/img/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/vee-validate/img/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/vee-validate/img/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/vee-validate/img/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/vee-validate/img/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/vee-validate/img/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/vee-validate/img/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/vee-validate/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/vee-validate/img/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/vee-validate/img/favicon-16x16.png">
    
    <link rel="preload" href="/vee-validate/assets/css/32.styles.866bd77b.css" as="style"><link rel="preload" href="/vee-validate/assets/js/app.5cc1b8da.js" as="script"><link rel="preload" href="/vee-validate/assets/js/6.7de2b52e.js" as="script"><link rel="prefetch" href="/vee-validate/assets/js/17.9cebbff0.js"><link rel="prefetch" href="/vee-validate/assets/js/1.3b5af093.js"><link rel="prefetch" href="/vee-validate/assets/js/2.c4e081b2.js"><link rel="prefetch" href="/vee-validate/assets/js/3.1ef69f43.js"><link rel="prefetch" href="/vee-validate/assets/js/4.0d5c2f8a.js"><link rel="prefetch" href="/vee-validate/assets/js/5.f914dd45.js"><link rel="prefetch" href="/vee-validate/assets/js/7.8b3917e3.js"><link rel="prefetch" href="/vee-validate/assets/js/8.3ab851e6.js"><link rel="prefetch" href="/vee-validate/assets/js/9.dbb69518.js"><link rel="prefetch" href="/vee-validate/assets/js/10.f77ded48.js"><link rel="prefetch" href="/vee-validate/assets/js/11.21f1d23b.js"><link rel="prefetch" href="/vee-validate/assets/js/12.b077c060.js"><link rel="prefetch" href="/vee-validate/assets/js/13.9ff500d4.js"><link rel="prefetch" href="/vee-validate/assets/js/14.dcbc9eb1.js"><link rel="prefetch" href="/vee-validate/assets/js/15.d516cb0c.js"><link rel="prefetch" href="/vee-validate/assets/js/16.4c741db1.js"><link rel="prefetch" href="/vee-validate/assets/js/0.da2c36fb.js"><link rel="prefetch" href="/vee-validate/assets/js/18.f0516857.js"><link rel="prefetch" href="/vee-validate/assets/js/19.48e147b5.js"><link rel="prefetch" href="/vee-validate/assets/js/20.d8423e87.js"><link rel="prefetch" href="/vee-validate/assets/js/21.0e1af88b.js"><link rel="prefetch" href="/vee-validate/assets/js/22.b013c106.js"><link rel="prefetch" href="/vee-validate/assets/js/23.aa204441.js"><link rel="prefetch" href="/vee-validate/assets/js/24.feac88d2.js"><link rel="prefetch" href="/vee-validate/assets/js/25.9b336df2.js"><link rel="prefetch" href="/vee-validate/assets/js/26.9c74e043.js"><link rel="prefetch" href="/vee-validate/assets/js/27.baa22670.js"><link rel="prefetch" href="/vee-validate/assets/js/28.ba706f65.js"><link rel="prefetch" href="/vee-validate/assets/js/29.1db2f19c.js"><link rel="prefetch" href="/vee-validate/assets/js/30.b7f474d8.js"><link rel="prefetch" href="/vee-validate/assets/js/31.41b961bb.js">
    <link rel="stylesheet" href="/vee-validate/assets/css/32.styles.866bd77b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/vee-validate/" class="home-link router-link-active"><!----><span class="site-name">
      VeeValidate
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/vee-validate/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/vee-validate/configuration.html" class="nav-link">Config</a></div><div class="nav-item"><a href="/vee-validate/advanced/" class="nav-link">Advanced</a></div><div class="nav-item"><a href="/vee-validate/examples/" class="nav-link">Examples</a></div><div class="nav-item"><a href="/vee-validate/api/" class="nav-link">API</a></div><a href="https://github.com/baianat/vee-validate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vee-validate/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/vee-validate/configuration.html" class="nav-link">Config</a></div><div class="nav-item"><a href="/vee-validate/advanced/" class="nav-link">Advanced</a></div><div class="nav-item"><a href="/vee-validate/examples/" class="nav-link">Examples</a></div><div class="nav-item"><a href="/vee-validate/api/" class="nav-link">API</a></div><a href="https://github.com/baianat/vee-validate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Guide</span><!----></p><ul class="sidebar-group-items"><li><a href="/vee-validate/guide/" class="sidebar-link">Introduction</a></li><li><a href="/vee-validate/guide/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/vee-validate/guide/syntax.html" class="sidebar-link">Syntax</a></li><li><a href="/vee-validate/guide/rules.html" class="sidebar-link">Validation Rules</a></li><li><a href="/vee-validate/guide/custom-rules.html" class="active sidebar-link">Custom Rules</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vee-validate/guide/custom-rules.html#function-form" class="sidebar-link">Function Form</a></li><li class="sidebar-sub-header"><a href="/vee-validate/guide/custom-rules.html#object-form" class="sidebar-link">Object Form</a></li><li class="sidebar-sub-header"><a href="/vee-validate/guide/custom-rules.html#reasoning" class="sidebar-link">Reasoning</a></li></ul></li><li><a href="/vee-validate/guide/messages.html" class="sidebar-link">Error Messages</a></li><li><a href="/vee-validate/guide/localization.html" class="sidebar-link">Localization</a></li><li><a href="/vee-validate/guide/flags.html" class="sidebar-link">Flags</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="custom-rules"><a href="#custom-rules" aria-hidden="true" class="header-anchor">#</a> Custom Rules</h1><p>You can easily add custom rules to VeeValidate, but your custom rules must adhere to a contract, or certain structure:</p><h2 id="function-form"><a href="#function-form" aria-hidden="true" class="header-anchor">#</a> Function Form</h2><p>This is the most basic custom validator form, it consists of only a function that returns either a Boolean or a promise. However, it will have a default error message.</p><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">validator</span> <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Return a Boolean or a Promise that resolves to a boolean.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h2 id="object-form"><a href="#object-form" aria-hidden="true" class="header-anchor">#</a> Object Form</h2><pre class="language-js"><code><span class="token keyword">const</span> validator <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">getMessage</span><span class="token punctuation">(</span>field<span class="token punctuation">,</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// will be added to default locale messages.</span>
    <span class="token comment">// Returns a message.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">validate</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Returns a Boolean or a Promise that resolves to a boolean.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>This validator object must have a <code>validate</code> method, and can contain a <code>getMessage</code> method which will be merged into the current dictionary locale. For multiple languages, you should use the <a href="/vee-validate/guide/localization.html">localization API</a>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Notice how the <code>getMessage</code> method receives the <code>field</code> which is the name of the field under validation as a first parameter. And how the <code>validate</code> method receives the value as a first parameter. And both receive the <code>args</code> array which contains the arguments that were configured with the validation rule. take a look at the <a href="https://github.com/baianat/vee-validate/blob/master/src/rules/min.js" target="_blank" rel="noopener noreferrer">actual implementation of the min rule</a> as an example.</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>As you can see, a validation rule must implement one of the two forms discussed above. Not doing so will throw an exception with a suitable error message detailing what you were missing.</p></div><h2 id="reasoning"><a href="#reasoning" aria-hidden="true" class="header-anchor">#</a> Reasoning</h2><p>Additionally, you may want to provide a reason for failing the validation that may change the error message. For example, you may be using an external API and the error message is generated there.</p><p>To achieve this, your validator function should return an <code>Object</code> instead of a <code>Boolean</code> this object should always contain a <code>valid</code> property and an optional <code>data</code> property, the data property will be passed to the message generator function as the third parameter, then you should use the passed data property to modify the output message. The same thing applies to promises as you resolve the promise with an object containing these properties. Here is a custom rule that does just that:</p><pre class="language-js"><code><span class="token keyword">const</span> myRule <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">getMessage</span><span class="token punctuation">(</span>field<span class="token punctuation">,</span> params<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>message<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'Something went wrong'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">validate</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        valid<span class="token punctuation">:</span> value <span class="token operator">===</span> <span class="token string">'trigger'</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token punctuation">:</span> <span class="token operator">!</span><span class="token operator">!</span> value<span class="token punctuation">,</span>
        data<span class="token punctuation">:</span> value <span class="token operator">!==</span> <span class="token string">'trigger'</span> <span class="token operator">?</span> undefined <span class="token punctuation">:</span> <span class="token punctuation">{</span> message<span class="token punctuation">:</span> <span class="token string">'Not this value'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>After creating your custom rule, you can add it to the list of rules using <code>extend(name, validator)</code> method in the validator instance.</p><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Validator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vee-validate'</span><span class="token punctuation">;</span>

Validator<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'truthy'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  getMessage<span class="token punctuation">:</span> field <span class="token operator">=&gt;</span> <span class="token string">'The '</span> <span class="token operator">+</span> field <span class="token operator">+</span> <span class="token string">' value is not truthy.'</span><span class="token punctuation">,</span>
  validate<span class="token punctuation">:</span> value <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">!</span> value
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Validator</span><span class="token punctuation">(</span><span class="token punctuation">{</span> trueField<span class="token punctuation">:</span> <span class="token string">'truthy'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Also there is an instance 'extend' method for convience.</span>
instance<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'falsy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>

instance<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'falseField'</span><span class="token punctuation">,</span>
  rules<span class="token punctuation">:</span> <span class="token string">'falsy'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Using any of the <code>extend</code> either on the class or on an instance will extend all validators with the new validation rule. Extending a new rule that has the same name as an existing rule will throw a <code>ValidatorException</code> with an error message.</p></div></div><div class="content edit-link"><a href="https://github.com/baianat/vee-validate/edit/master/docs/guide/custom-rules.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/vee-validate/guide/rules.html" class="prev">
          Validation Rules
        </a></span><span class="next"><a href="/vee-validate/guide/messages.html">
          Error Messages
        </a> →
      </span></p></div></div></div></div>
    <script src="/vee-validate/assets/js/6.7de2b52e.js" defer></script><script src="/vee-validate/assets/js/app.5cc1b8da.js" defer></script>
  </body>
</html>
